// to be visualized with https://swimlanes.io/

title: W3C Recommendation Translation Workflow
order: Transl X, Repo, Other Transl, reviewer, Transl Manager, Transl Page, Admin Repo, W3C Admin
W3C Admin -> Transl Page: Lists specs to be translated (possibly prioritized)
Transl Manager --> W3C Admin: Prioritize specs to be translated
_: ** Intent to translate **
Transl X -> Transl Page: Visits
Transl Page -> Transl X: Shows specs to be translated with links to repo declare intent
Transl X -> Admin Repo: raises an issue as intent to translate
Admin Repo -> Repo: creates and prepopulates with template
note: one repo per spec & language
Admin Repo -> Transl Page: updates to signal ongoing translation
Admin Repo -> Other Transl: sends notification
note: github notif as opt-in per language, general notif to w3c-translators
Admin Repo -> reviewer: sends github notification

_: ** Translation development **
Transl X -> Repo: Forks (with prepopulated template?)
note: Fork is needed later for submission as pull request; encouragement but no requirement to use the fork for the collaborative development of the translation
Other Transl --> Transl X: offers to collaborate
Transl X -> Transl X: Develops translation
...: translating

_: ** Translation submission **
Transl X -> Repo: Submit pull request with proposed translation
Repo -> reviewer: requests review
Repo -> Repo: runs automatic QA checks
if: Translation matches criteria
Repo -> Repo: validates automated checks
reviewer -> Repo: Approves
Repo -> W3C Admin: notifies
Repo -> Admin Repo: Closes intent to translate
W3C Admin -> W3C Admin: publishes translation
W3C Admin -> Transl Page: Adds link to published translation
else: Translation does not match quality criteria
  if: Transl X amenable to required changes
  Transl X -> Transl X: Makes required changes
  Transl X -> Repo: Submit updated pull request
  note: goes back to submission process above
  else: Transl X disagrees with requested changes
  Transl X -> Transl Manager: Requests exception
  note: in general, we only expect issues with automated checks - blocking from reviewer is only expected to happen in case of fraudulent-looking translations
  Transl Manager --> Transl X: arbitrates dispute (if any)
  Transl Manager --> reviewer: arbitrates dispute (if any)
  Transl Manager --> Repo: Lifts automated check requirement (if appropriate)
  else: Bad faith translation
  Transl Manager -> Admin Repo: Closes intent to translate
  Admin Repo -> Transl Page: Removes "on-going" flag for translation
  end
end

_: ** Maintenance **
W3C Admin --> Repo: file issues when original spec changes
reviewer --> Repo: file requests for improvements
Transl X --> Repo: submit improvements
Other Transl --> Repo: submit improvements
reviewer -> Repo: validates changes to published translation
Repo -> Repo: runs automatic QA checks
Repo -> W3C Admin: notifies
W3C Admin -> W3C Admin: publishes updated translation
